<!-- <div class="stats-container">
  <div class="category-stat">
    <mat-icon>category</mat-icon>
    <span>{{ categories().length }} Categories</span>
  </div>

  <div class="product-stat">
    <mat-icon>inventory_2</mat-icon>
    <span>{{ products().length }} Products</span>
  </div>
</div> -->

<div class="main-layout">
  <aside class="sidebar">
    <mat-selection-list class="category-list" [multiple]="false">
      <mat-list-option [selected]="selectedCategory() === 'All'" (click)="selectCategory('All')">
        All Categories
      </mat-list-option>

      @for (cat of categories(); track cat) {
        <mat-list-option [selected]="cat === selectedCategory()" (click)="selectCategory(cat)">
          {{ cat }}
        </mat-list-option>
      }
    </mat-selection-list>
  </aside>

  <main class="products-area">
    @for (product of pagedProducts(); track product.id) {
      <div class="product-card mat-elevation-z1">
        <div class="product-header">
          <h4>{{ product.name }}</h4>
          <span class="price-tag">
            {{ product.price | currency: 'USD' : 'symbol' : '2.2-2' }}
          </span>
        </div>
        <p class="product-description">
          {{ product.description }}
        </p>
        <div class="product-actions">
          <button mat-raised-button color="accent">Add To Cart</button>
        </div>
      </div>
    }

    <div class="pagination-controls">
      <mat-form-field appearance="outline" class="page-size-select">
        <mat-label>Items per page</mat-label>
        <mat-select [value]="productsPerPage()" (selectionChange)="changePageSize($event.value)">
          <mat-option [value]="3">3 per Page</mat-option>
          <mat-option [value]="4">4 per Page</mat-option>
          <mat-option [value]="6">6 per Page</mat-option>
          <mat-option [value]="8">8 per Page</mat-option>
        </mat-select>
      </mat-form-field>

      <div class="page-buttons">
        <button
          *counter="let page of pageCount()"
          mat-stroked-button
          [class.active-page]="page === selectedPage()"
          (click)="changePage(page)"
        >
          {{ page }}
        </button>
      </div>
    </div>
  </main>
</div>
